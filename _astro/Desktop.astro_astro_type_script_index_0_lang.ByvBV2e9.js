import{g as k}from"./progress.buUyn3MF.js";const n="/cursor-workshop";function i(e,t){return e.completedModuleIds.includes(t)}const b=[{id:"welcome",title:"Welcome",route:`${n}/welcome/`,iconKey:"welcome",appLabel:"WELCOME",prerequisiteModuleId:null,unlocksWhen:()=>!0,isComplete:e=>i(e,"welcome")},{id:"github-basics",title:"GitHub basics",route:`${n}/github/`,iconKey:"github",appLabel:"GITHUB",prerequisiteModuleId:"welcome",unlocksWhen:e=>i(e,"welcome"),isComplete:e=>i(e,"github-basics")},{id:"clone-and-run",title:"Clone and run",route:`${n}/clone-and-run/`,iconKey:"clone",appLabel:"LOCALHOST",prerequisiteModuleId:"github-basics",unlocksWhen:e=>i(e,"github-basics"),isComplete:e=>i(e,"clone-and-run")},{id:"explore-cursor",title:"Explore Cursor",route:`${n}/explore-cursor/`,iconKey:"explore",appLabel:"CURSOR",prerequisiteModuleId:"clone-and-run",unlocksWhen:e=>i(e,"clone-and-run"),isComplete:e=>i(e,"explore-cursor")},{id:"contribution",title:"Contribution",route:`${n}/contribution/`,iconKey:"contribution",appLabel:"CONTRIBUTION",prerequisiteModuleId:"explore-cursor",unlocksWhen:e=>i(e,"explore-cursor"),isComplete:e=>i(e,"contribution")},{id:"checklist",title:"Checklist",route:`${n}/checklist/`,iconKey:"checklist",appLabel:"CHECKLIST",prerequisiteModuleId:null,unlocksWhen:()=>!0,isComplete:e=>i(e,"checklist")},{id:"resources",title:"Resources",route:`${n}/resources/`,iconKey:"resources",appLabel:"RESOURCES",prerequisiteModuleId:null,unlocksWhen:()=>!0,isComplete:e=>i(e,"resources")}];function d(e){return b.find(t=>t.id===e)}function f(e,t){return e.isComplete(t)?"complete":e.unlocksWhen(t)?"available":"locked"}function g(e){const t=d(e);if(!t||!t.prerequisiteModuleId)return"Module unavailable.";const s=d(t.prerequisiteModuleId);return s?`Module unavailable. Complete ${s.appLabel} to unlock.`:"Module unavailable."}const r=document.getElementById("desktop-icons"),l=document.getElementById("desktop-locked-message");if(!r)throw new Error("Desktop icons container not found");function m(){const e=k();r.querySelectorAll(".desktop-icon[data-module-id]").forEach((t,s)=>{const o=t,u=b[s];if(!u)return;const a=f(u,e);o.setAttribute("data-status",a),u.id==="welcome"&&a==="available"?(o.setAttribute("data-start-here","true"),o.setAttribute("aria-description","Start here")):(o.removeAttribute("data-start-here"),o.removeAttribute("aria-description"))})}m();r.addEventListener("click",e=>{const t=e.target.closest("a.desktop-icon");if(!t)return;const s=t.getAttribute("data-status");if(s==="locked"){if(e.preventDefault(),l){const o=t.getAttribute("data-module-id");l.textContent=o?g(o):"Module unavailable.",l.classList.add("desktop-locked-message--visible"),l.setAttribute("aria-hidden","false"),window.setTimeout(()=>{l.classList.remove("desktop-locked-message--visible"),l.setAttribute("aria-hidden","true")},4e3)}return}if(s==="available"||s==="complete"){const o=t.getAttribute("data-module-id"),u=t.getAttribute("data-route"),a=t.getAttribute("data-title")??"Module";o&&u&&(e.preventDefault(),window.dispatchEvent(new CustomEvent("workshop-show-app-boot",{detail:{moduleId:o,route:u,title:a}})))}});document.addEventListener("workshop-progress-update",()=>{m()});const p=document.getElementById("desktop-details-title");function c(e){p&&(p.textContent=e)}r.addEventListener("mouseover",e=>{const t=e.target.closest("a.desktop-icon");c(t&&t.getAttribute("data-title")||"")});r.addEventListener("mouseout",e=>{e.relatedTarget&&e.relatedTarget.closest?.("a.desktop-icon")||c("")});r.addEventListener("focusin",e=>{const t=e.target.closest("a.desktop-icon");t&&c(t.getAttribute("data-title")||"")});r.addEventListener("focusout",()=>{window.setTimeout(()=>{r.querySelector(".desktop-icon:focus")||c("")},0)});
