import{g as c}from"./progress.BvBh1b1W.js";const s="cursor-workshop-agents",n="cursor-workshop-current-agent-id";function a(){try{const t=localStorage.getItem(s);if(!t)return[];const r=JSON.parse(t);return Array.isArray(r)?r.filter(e=>e&&typeof e=="object"&&typeof e.id=="string"&&typeof e.name=="string"&&typeof e.team=="string"&&typeof e.role=="string"):[]}catch{return[]}}function g(t){try{localStorage.setItem(s,JSON.stringify(t))}catch{}}function f(t){const r=c(),e={id:crypto.randomUUID(),name:t.name.trim()||"Agent",team:t.team.trim()||"—",role:t.role.trim()||"—",imageUrl:null,completedModuleCount:r.completedModuleIds.length,createdAt:Date.now()},o=a();return o.push(e),g(o),l(e.id),e}function u(){try{return localStorage.getItem(n)}catch{return null}}function d(){const t=u();return t?a().find(r=>r.id===t)??null:null}function l(t){try{t===null?localStorage.removeItem(n):localStorage.setItem(n,t)}catch{}}export{f as a,d as g};
