import{g as l}from"./progress.Vc3o6-_F.js";import{M as f}from"./modules.BzR7gP9c.js";function m(t,e){return t.isComplete(e)?"complete":t.unlocksWhen(e)?"available":"locked"}const s=document.getElementById("desktop-icons"),a=document.getElementById("desktop-locked-message");if(!s)throw new Error("Desktop icons container not found");function u(){const t=l();s.querySelectorAll(".desktop-icon[data-module-id]").forEach((e,n)=>{const o=e,r=f[n];if(!r)return;const d=m(r,t);o.setAttribute("data-status",d),r.id==="welcome"&&d==="available"?(o.setAttribute("data-start-here","true"),o.setAttribute("aria-description","Start here")):(o.removeAttribute("data-start-here"),o.removeAttribute("aria-description"))})}u();s.addEventListener("click",t=>{const e=t.target.closest("a.desktop-icon");!e||e.getAttribute("data-status")!=="locked"||(t.preventDefault(),a&&(a.classList.add("desktop-locked-message--visible"),a.setAttribute("aria-hidden","false"),window.setTimeout(()=>{a.classList.remove("desktop-locked-message--visible"),a.setAttribute("aria-hidden","true")},4e3)))});document.addEventListener("workshop-progress-update",()=>{u()});const c=document.getElementById("desktop-details-title");function i(t){c&&(c.textContent=t)}s.addEventListener("mouseover",t=>{const e=t.target.closest("a.desktop-icon");i(e&&e.getAttribute("data-title")||"")});s.addEventListener("mouseout",t=>{t.relatedTarget&&t.relatedTarget.closest?.("a.desktop-icon")||i("")});s.addEventListener("focusin",t=>{const e=t.target.closest("a.desktop-icon");e&&i(e.getAttribute("data-title")||"")});s.addEventListener("focusout",()=>{window.setTimeout(()=>{s.querySelector(".desktop-icon:focus")||i("")},0)});
