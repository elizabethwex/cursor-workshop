const n="cursor-workshop-progress",r={completedModuleIds:[]};function s(){try{const e=localStorage.getItem(n);if(!e)return{...r};const t=JSON.parse(e);return!t||typeof t!="object"||!Array.isArray(t.completedModuleIds)?{...r}:{completedModuleIds:[...t.completedModuleIds].filter(o=>typeof o=="string")}}catch{return{...r}}}function u(e){try{localStorage.setItem(n,JSON.stringify(e))}catch{}}function f(e){const t=s();t.completedModuleIds.includes(e)||(t.completedModuleIds.push(e),u(t))}function l(e){return s().completedModuleIds.includes(e)}function m(e){const t=s(),o=t.completedModuleIds.indexOf(e);o!==-1&&(t.completedModuleIds.splice(o,1),u(t))}const a="cursor-workshop-module-",p="-tasks";function g(e){if(l(e))return"completed";try{const t=localStorage.getItem(a+e+p);if(!t)return"not-started";const o=JSON.parse(t);if(!o||typeof o!="object")return"not-started";const c=o;return Object.keys(c).filter(d=>c[d]===!0).length>0?"in-progress":"not-started"}catch{return"not-started"}}export{g as a,m as c,s as g,l as i,f as m};
