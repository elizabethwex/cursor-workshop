---
import MatrixModuleLayout from "../layouts/MatrixModuleLayout.astro";
import contributorsData from "../data/contributors.json";
import {
  getAgentsFromContributors,
  getAgentsGridHtml,
} from "../lib/agents-grid-html";

const baseUrl = (import.meta.env.BASE_URL ?? "/").replace(/\/$/, "") || "/";
const agents = getAgentsFromContributors(contributorsData, baseUrl);
const gridHtml = getAgentsGridHtml(agents);
---

<MatrixModuleLayout title="Agents" description="Agents board: contributors who added themselves via the Contribution module (PR).">
  <section class="agents-page" aria-labelledby="agents-heading">
    <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4 mb-8 border-b border-[#003B00] pb-4">
      <div>
        <h1 id="agents-heading" class="text-3xl font-bold uppercase glitch text-[#00FF41]">[ AGENTS ]</h1>
        <p class="text-[#008F11] font-terminal mt-1">&#47;&#47; Add yourself via the Contribution module (PR)</p>
      </div>
    </div>

    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6" set:html={gridHtml} />
  </section>
</MatrixModuleLayout>
