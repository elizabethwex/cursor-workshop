---
import MatrixModuleLayout from "../layouts/MatrixModuleLayout.astro";
import CollapsibleSection from "../components/CollapsibleSection.astro";
import ModuleGoalPanel from "../components/ModuleGoalPanel.astro";
import resourceGroups, { resourcesGoal, resourcesEstimatedTime } from "../content/steps/07-resources";
---

<MatrixModuleLayout title="Resources" description="Reference materials for Cursor, GitHub, and local development. Access: Any.">
  <article class="module-page resources-module">
    <header class="module-header">
      <h1>Resources</h1>
    </header>

    <ModuleGoalPanel goal={resourcesGoal} estimatedTime={resourcesEstimatedTime} />

    <section class="step-card" aria-labelledby="resources-intro">
      <h2 id="resources-intro">Resources</h2>
      <p>This section contains reference materials you may find useful over time.</p>
      <p>Nothing here is required to complete the Cursor Access Program.</p>
      <p>Everything here is optional.</p>
      <p>Use these resources when you need clarification, context, or a reminder.</p>
    </section>

    {resourceGroups.map((group) => {
      const id = group.heading.toLowerCase().replace(/\s+/g, "-");
      return (
        <CollapsibleSection id={id} title={group.heading} stepCard={true}>
          <h2 id={id}>{group.heading}</h2>
          <ul class="resource-list">
            {group.links.map((link) => (
              <li class="resource-item">
                <a href={link.url} target="_blank" rel="noopener noreferrer" class="resource-link">
                  {link.title}
                </a>
                <span class="resource-url text-muted">{link.url}</span>
                {link.description && (
                  <p class="resource-desc text-muted">{link.description}</p>
                )}
              </li>
            ))}
          </ul>
        </CollapsibleSection>
      );
    })}

    <CollapsibleSection id="system-notes" title="System Notes" stepCard={true}>
      <ul>
        <li>Familiarity grows through use</li>
        <li>Have fun and try new things!</li>
      </ul>
    </CollapsibleSection>

  </article>
</MatrixModuleLayout>
